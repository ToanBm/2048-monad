/* ========= 2048 BOARD ========= */
.game-container {
  position: relative;
  background: var(--violet-400);
  border: 1px solid rgba(255, 255, 255, .5);
  border-radius: 14px;
  /* giảm nhẹ */
  padding: clamp(28px, 3.7vmin, 46px); /* Tăng 15% */
  /* -20% */
  box-shadow: var(--shadow-xl);
  width: clamp(322px, 55vmin, 598px); /* Tăng 15% */
  /* -20% */
  margin: 0 auto;
  backdrop-filter: blur(10px);
  container-type: inline-size;
}

/* Scores panel */
.score-panel {
  display: flex;
  justify-content: space-between;
  margin-bottom: clamp(12px, 1.8vmin, 21px); /* Tăng 15% */
  /* -20% */
  gap: clamp(5px, 0.9vmin, 9px); /* Tăng 15% */
  flex-wrap: wrap;
}

.score-button {
  background: var(--violet-600);
  border: 1px solid rgba(255, 255, 255, .5);
  border-radius: 10px;
  padding: clamp(8px, 1vmin, 12px);
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: clamp(42px, 5.5vmin, 64px);
  /* -20% */
  color: #fff;
  flex: 1 1 auto;
  min-width: 50px;
}

.score-button strong {
  font-size: clamp(10px, 30vmin, 12px);
}

.score-value {
  font-size: clamp(14px, 2.2vmin, 22px);
  font-weight: 900;
}

/* Board grid */
.game-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: clamp(5px, 1.15vmin, 9px); /* Tăng 15% */
  /* -20% */
  background: var(--violet-100);
  border: 1px solid rgba(255, 255, 255, .5);
  padding: clamp(5px, 1.15vmin, 9px); /* Tăng 15% */
  border-radius: 10px;
  margin-bottom: clamp(14px, 2.1vmin, 21px); /* Tăng 15% */
  box-shadow: inset 0 3px 6px rgba(0, 0, 0, .15);
}

.grid-cell {
  aspect-ratio: 1;
  border-radius: clamp(5px, 0.8vmin, 8px);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  font-size: clamp(14px, 3vmin, 22px);
  border: 1px solid rgba(255, 255, 255, .5);
  /* -20% */
  box-shadow: var(--shadow-sm);
  animation: tileAppear .2s ease-out;
  /* Bỏ transition để game responsive như 2048 gốc */
}

.grid-cell.empty {
  background: var(--violet-100);
  color: transparent;
  border: 1px solid rgba(255, 255, 255, .5);
  /* Bỏ animation cho ô trống */
  animation: none;
}

/* Tile colors */
.grid-cell.tile-2 {
  background: var(--violet-200);
  color: var(--text-on-light);
}

.grid-cell.tile-4 {
  background: var(--violet-300);
  color: var(--text-on-light);
}

.grid-cell.tile-8 {
  background: var(--violet-400);
  color: #fff;
}

.grid-cell.tile-16 {
  background: var(--violet-500);
  color: #fff;
}

.grid-cell.tile-32 {
  background: var(--violet-600);
  color: #fff;
}

.grid-cell.tile-64 {
  background: var(--violet-700);
  color: #fff;
}

.grid-cell.tile-128 {
  background: var(--violet-800);
}

.grid-cell.tile-256 {
  background: var(--violet-900);
}

.grid-cell.tile-512 {
  background: #441c8b;
}

.grid-cell.tile-1024 {
  background: #2e1065;
}

.grid-cell.tile-2048 {
  background: #1e0b3f;
}

/* Game message */
.game-message {
  text-align: center;
  padding: 10px;
  /* -20% */
  border-radius: 10px;
  margin-bottom: 10px;
  font-weight: 800;
  font-size: clamp(12px, 1.3vmin, 16px);
}

.game-message.victory {
  background: linear-gradient(135deg, #10b981, #059669);
  color: #fff;
}

.game-message.game-over {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: #fff;
}

/* Controls */
.control-panel {
  display: flex;
  gap: clamp(4px, 0.8vmin, 8px);
  justify-content: center;
  flex-wrap: wrap;
}

.control-button {
  background: var(--violet-600);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, .5);
  border-radius: 10px;
  padding: clamp(8px, 1.2vmin, 12px) clamp(12px, 1.4vmin, 18px);
  font-size: clamp(12px, 1.6vmin, 16px);
  /* -20% */
  font-weight: 800;
  height: clamp(32px, 5vmin, 44px);
  /* -20% */
  flex: 1;
}

/* Tắt hover cho control-button */
/* .control-button:hover {
  background: var(--violet-400);
} */

/* Animations */
@keyframes tileAppear {
  from {
    opacity: 0;
    transform: scale(0.8);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes tileMerge {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.1);
  }

  100% {
    transform: scale(1);
  }
}

.grid-cell.merged {
  animation: tileMerge .25s ease-out;
}